\documentclass{amsart}

\usepackage[colorlinks=true]{hyperref}
\usepackage{enumerate}
\usepackage{color}
\usepackage{mathrsfs}
\usepackage{tikz-cd}
\usepackage{amssymb}
\usepackage{centernot}

\usepackage{marginnote}
\renewcommand*{\marginfont}{\scriptsize\color{red}\sffamily}

\input{macros.tex}

\newcommand{\fsl}[1]{{\centernot{#1}}}
\renewcommand\d{\mathsf{D}}

\DeclareMathOperator{\Fun}{Fun}
\DeclareMathOperator{\Emb}{Emb}
\DeclareMathOperator{\Conf}{Conf}
\DeclareMathOperator{\hofiber}{hofiber}
\DeclareMathOperator{\ev}{ev}

\newcommand{\disk}{\mathsf{Disk}_n}
\newcommand{\diskf}{\mathsf{Disk}_n^\text{fr}}
\newcommand{\diskr}{\mathsf{Disk}_n^\text{rect}}
\newcommand{\Disk}{\mathscr{D}\mathsf{isk}_n}
\newcommand{\Diskf}{\mathscr{D}\mathsf{isk}_n^\text{fr}}
\newcommand{\Diskr}{\mathscr{D}\mathsf{isk}_n^\text{rect}}

\title{Factorization Homology}
\author{John Francis}
\date{Fall 2017}

\begin{document}
\maketitle
\tableofcontents

These are notes from John Francis' ``Factorization homology'' course 
taught during the Fall quarter of the 2017 year at Northwestern. 
Errors and inaccuracies are, as usual, due to the notetaker(s).


\section{What is factorization homology? [09/20/17]}

\subsection{Introduction}

What is factorization homology? Well, if it were an animal, I could describe it in two ways:
distribution and phylogeny. More specifially, we will first see how factorization
homology is distributed over the face of the planet.
Then we will describe how it evolved from single-celled organisms, i.e. how you
might come up with it yourself.

For the moment you can think of factorization homology as a sort of 
\begin{quote}
    \textbf{generalized (co)sheaf homology.}
\end{quote}
Notice that this phrase can be hyphenated in two different ways. In one sense it is a
generalization of the ideas of sheaf cohomology, and in the other it is a homology theory
for generalized sheaves (or sheaf-like objects).
In particular, factorization homology is a machine that takes two inputs:
a geometry $M$ and an algebraic object $A$. The output is
\begin{equation*}
    \int_M A,
\end{equation*}
the factorization homology of with coefficients in $A$.


\subsection{Examples}
Let's look at the first description: what are some examples of factorization homology
that appear naturally in mathematics?
\begin{enumerate}
    \item \textbf{Homology.} Here $M$ is a topological space and $A$ is an abelian group.
        In this case the output is a chain complex
        \begin{equation*}
            \int_M A \simeq \HH_\bullet(M,A),
        \end{equation*}
        quasiisomorphic to singular homology with coefficients in $A$.
        \marginnote{John: What is a theorem you can't prove without ordinary homology?}

    \item  \textbf{Hochschild homology.} Here $M$ is a one-dimensional manifold -- let's
        take in particular $M=S^1$ -- and $A$ will be an associative algebra. In this case
        \begin{equation*}
            \int_{S^1} A \simeq \text{HH}_\bullet A,
        \end{equation*}
        the Hochschild homology of $A$.
        You might be less familiar with this algebraic object than ordinary
        homology. It's importance comes from how it underlies trace methods
        in algebra (e.g. characteristic 0 representations of finite groups).
        Hochschild homology is a recipient of ``the universal trace'' and hence
        an important part of associative algebra. Note that
        $\text{HH}_0A=A/[A,A]$.
        
    \item \textbf{Conformal field theory.} This is in some sense the real starting point
        for the ideas we will develop in this class. Here $M$ is a smooth complete etc.
        algebraic curve over $\C$ and $A$ is a vertex algebra. In this case
        the output $\int_M A$ was constructed by Beilinson and Drinfeld, and
        is known as chiral homology of $M$ with coefficients in $A$. It is
        a chain complex, with $\HH_0(\int_M A)$ being the space of conformal blocks of
        the conformal field theory.

    \item \textbf{Algebraic curves over $\F_q$.} Here $M$ is an algebraic curve over $\F_q$
        and $G$ is a connected algebraic group over $\F_q$. In this case $\int_MG$ is known
        as the Beilinson-Drinfeld Grassmannian and is a stack. One interesting
        property that it has is that
        \begin{equation*}
            \HH_\bullet\left(\int_M G,\bar\Q_\ell\right) \simeq \HH_\bullet(\text{Bun}_G(M),\bar\Q_\ell),
        \end{equation*}
        where here we are taking $\ell$-adic cohomology.
        Although the Beilinson-Drinfeld Grassmannian is more complicated than the
        stack of principal $G$-bundles, it is more easily manipulated.
        We note that the equivalence above is a form of nonabelian Poincar\'e duality.

        In particular, one might be interested in computing
        \begin{equation*}
            \chi(\text{Bun}_G(M)) = \sum_{[P]}\frac{1}{|\Aut(P)|},
        \end{equation*}
        which makes sense over a finite field. The computation of this quantity is
        known as Weil's conjecture on Tamagawa numbers.

    \item \textbf{Topology of mapping spaces.} Now $M$ is an $n$-manifold without boundary and $A$ will be an
        $n$-fold loop space, $A=\Omega^nZ=\Maps( (D^n,\partial D^n),(Z,*))$. The
        output is a space weakly homotopy equivalent to $\Maps_c(M,Z)$ if $\pi_iZ=0$ for $i<n$.
        This is also known as nonabelian Poincar\'e duality. Again the left hand
        side is more complicated but more easily manipulated.

    \item \textbf{$n$-disk algebra (perturbative TQFT).}
        Here $M$ is an $n$-manifold and $A$ is an $n$-disk algebra (or an $E_n$-algebra)
        in chain complexes. The output is a chain complex and has some sort of interpretation
        in physics. One thinks of $A$ as the algebra of observables on $\R^n$, and
        $\int_M A$ is the global observables (in some derived sense). In a rough
        cartoon of physics, one assigns to opens sets of observables, and a way to copmute
        expectation values. Factorization homology puts together local observables to global
        observables:
        \begin{equation*}
            \text{Obs}(M) \simeq \int_M A,
        \end{equation*}
        at least if we are working in perturbative QFT.

    \item \textbf{TQFT.} Here $M$ is an $n$-manifold (maybe with a framing) and $A$ is an
        $(\infty,n)$-category (enriched in $\mathcal{V}$).
        The output is a space (if enriched, an object of $\mathcal{V}$), which
        is designed to remove the assumptions from the examples above.
\end{enumerate}

That's all the examples for now. Next class we'll go over how one might have come up
with factorization homology. It is worth noting that in this class we will focus
on learning factorization homology as a \textbf{tool} instead of aiming to reach
some fancy theorem. Hopefully this will teach you how to apply it in contexts you
might be interested in.

\textbf{Pax:} What is the physical interpretation of the first and second chiral
homologies? \textbf{John:} One might be interested in things like Wilson lines,
where these higher homology groups come into play.


\newpage
\section{How to come up with factorization homology yourself [09/22/17]}

\subsection{Kan extensions}

Consider the following
thought experiment. Suppose you want to study objects in some context $\mathcal{M}$.
Unfortunately objects here are pretty hard in general. Inside $\mathcal{M}$, however,
we have some objects $\mathcal{D}\subset \mathcal{M}$ that are particulary simple,
and moreover we know that everything else in $\mathcal{M}$ is ``built out of'' objects in $\mathcal{D}$.

Let's consider the example where $\mathcal{M}$ is a nice category of (homotopy types of)
topological spaces. Let $\mathcal{D}$ consist of the point, i.e. all contractible spaces.
Now to study $\mathcal{M}$ we might map functors out of it into some category $\mathcal{V}$.
Let's start with $\mathcal{D}$ instead. Consider $\Fun(*, \mathcal{V})$.
Of course this is canonically just $\mathcal{V}$. How do we extend this to studying $\mathcal{M}$?
We have an obvious restriction map
\begin{equation*}
    \begin{tikzcd}
        \Fun(\mathcal{M},\mathcal{V}) \rar{\ev_*} & \Fun(*, \mathcal{V}).
    \end{tikzcd}
\end{equation*}
We want to look for a left adjoint to this functor $\ev_*$
\marginnote{John: If you don't know what a left adjoint is you should learn it because I won't tell you.
No, I'm not joking (laughs).}
There are two different
things we could do. We could ignore the homotopy-ness of everything, and take the naive
categorical left-adjoint. If, say $\mathcal{V}$ is the category of chain complexes, this naive
left-adjoint produces a stupid answer\ldots depending on what our precise definitions are.
Let's suppose that by $\mathcal{M}$ we meant the homotopy category of spaces (here objects are spaces
and maps are sets of homotopy classes of maps).
Then we are extending
\begin{equation*}
    \begin{tikzcd}
        *\rar{A}\dar & \mathcal{V}\\
        \mathsf{hoSpaces}\urar[dashed]
    \end{tikzcd}
\end{equation*}
A naive left adjoint would take the functor $A$ to the functor sending a space $X$ to the
stupid answer $A^{\oplus \pi_0X}$ (on morphisms take summands to summands corresponding
to where the connected components are sent).
\marginnote{Why is this a left adjoint?}
Similarly if we take $\mathcal{M}$ to be just spaces and all continuous maps, $X$ would
be sent to $A^{\oplus X}$. Here by $X$ we mean the underlying set of elements of $X$.

There is a more sophisticated notion of a derived or homotopy left adjoint.
Suppose now that by $\mathcal{M}$
we mean the topological category of spaces, where the mapping sets are spaces equipped
with the compact-open topology. Now we take a \textit{homotopy} Kan extension. This
fancy left adjoint will now send a space $X$ to the the chain complex $C_*(X, A)$
(up to equivalence). Hence we see that we can recover homology from this paradigm
of extending a simpler invariant to the whole category.

How do we choose what $\mathcal{D}$ and $\mathcal{M}$ are? Suppose we want to study
$\mathcal{F}(M)$ for $M\in\mathcal{M}$. For concreteness, let's say we're studying
manifolds. The most basic question to ask: is there a local-to-global principle for
$\mathcal{F}$? The simplest case is for $\mathcal{F}$ to be a sheaf, i.e.
\begin{equation*}
    \begin{tikzcd}
        \mathcal{F}(M) \rar{\sim} & \lim_{U\in\mathcal{U}} \mathcal{F}(U).
    \end{tikzcd}
\end{equation*}
If so you don't need factorization homology, and you can just leave.

For instance, consider $\mathcal{F}=C_*(\Maps(\cdot, Z))$ taking spaces to chain
complexes. Is this a sheaf? Well if we forget about $C_*$, we get a sheaf, as a
map into $Z$ is the same as giving maps on subsets of the domain that agree on overlaps.
What does
taking chains do? Well notice that
\begin{align*}
    C_*(\Maps(U\coprod V,Z)) &= C_*(\Maps(U,Z)\times\Maps(V,Z))\\
    &= C_*(\Map(U,Z)) \otimes C_*(\Maps(V,Z)).
\end{align*}
This is not a sheaf because in this case tensor products and direct sums are never
the same for these chain complexes! \marginnote{Why?}
So what can we do? We need to change what we consider $\mathcal{D}$ to be from
open coverings to something else.

\textbf{Idea:} to study $\mathcal{F}$ maybe there are more general arrangements of
$\mathcal{D}\subset\mathcal{M}$ such that local-to-global principles still apply, without
$\mathcal{F}$ being a sheaf.

\subsection{Manifolds}

The following problem will guide us for the next few weeks.
\begin{quote}
    Let $M$ be a manifold and let $Z$ be a space.
    Calculate the homology of the mapping space $\HH_\bullet\Maps(M,Z)$.
\end{quote}

To begin, let us specify which categories we will be working with.
\begin{definition}
    Let $\mathsf{Mfld}_n$ be the (ordinary) category of smooth $n$-manifolds, with
    $\Hom(M,N)=\Emb(M,N)$ the set of smooth embeddings of $M$ into $N$.
    Similarly, 
    let $\mathcal{M}\mathsf{fld}_n$ be the \textit{topological} category of smooth $n$-manifolds, with
    $\Hom(M,N)=\Emb(M,N)$ the \textit{space} of smooth embeddings of $M$ into $N$, equipped with the
    compact open smooth topology.
\end{definition}

The compact open smooth topology takes a bit of work to define, so we'll leave that
as background reading. A good reference is Hirsch's book on differential topology \cite{hirsch}.
Roughly, convergence in this topology is pointwise in the map as well as all its derivatives.
To get a feel for what this entails, consider a knot. Locally tighten the knot
until the knot turns (locally) into a line. These knots would would converge in the usual compact-open
topology to another knot, but in the smooth topology, they do not converge as the
tightening procedure creates sharp kinks.
In particular $\pi_0\text{Emb}(S^1,\R^3)$ is very different from
$\pi_0\text{Emb}^\text{top}(S^1,\R^3)$.

\begin{definition}
    We define the category $\mathsf{Disk}_n$ to be the full subcategory of
    $\mathsf{Mfld}_n$ where the objects are finite disjoint unions of standard
    Euclidean spaces $\coprod_I\R^n$. Similarly the category $\mathcal{D}\mathsf{isk}_n$
    is the full \textit{topological} subcategory of $\mathcal{M}\mathbf{fld}_n$ where the objects
    are finite disjoint unions of Euclidean space.
\end{definition}

Observe that $\Hom_{\mathcal{D}\mathsf{isk}_n}(\R^n,\R^n)=\text{Emb}(\R^n,\R^n)$.
\begin{lemma}
    The map $\Emb(\R^n,\R^n)\to GL_n(\R)\simeq O_n\R$ given by differentiating
    at the origin is a homotopy equivalence.
\end{lemma}
\begin{proof}[Proof sketch]
    There is an obvious map $GL_n\R \to \Emb(\R^n,\R^n)$. One of the composites is
    thus clearly the identity. It remains to show that the other composition is
    homotopic to the identity. The homotopy is given by shrinking the embedding
    down to zero.
\end{proof}

This fact should fill you with hope. The objects which are building blocks of manifolds
have automorphism spaces that are, up to homotopy, just finite-dimensional manifolds.
Actually it will be useful to think of the $n$-disks as some sort of algebra.

\begin{definition}
    An $n$-disk algebra in $\mathcal{V}$ is a symmetric monoidal functor
    $A:\mathcal{D}\mathsf{isk}_n\to\mathcal{V}$.
\end{definition}

As we stated before, our first goal in this class is to understand the homology 
$\HH_*\Maps(M,Z)$ using $n$-disk algebras and factorization homology.

Question from someone: what's the relation with $E_n$-algebras? John: It turns
out that $E_n$-algebras are equivalent to $n$-disk algebras with framing.

Question from Tochi: what if you work with manifolds with boundary? John: well
if you require boundaries to map to boundaries you can make the same definitions.
You then have to work with Euclidean spaces and half-spaces. You'll end up
with two types of algebras instead of just $n$-disk algebras.

\newpage
\section{Framings [09/25/17]}

\subsection{Framed embeddings, naively}

\begin{definition}
    A \textbf{framing} of an $n$-manifold $M$ is an isomorphism of vector bundles
    $TM \cong M\times \R^n$.
\end{definition}

Of course, not all manifolds have framings. For instance, one
can check that all (compact oriented) two-manifolds except for $S^1\times S^1$ do not admit framings.
You might use the Poincar\'e-Hopf theorem, which expresses the Euler characteristic
as a sum of the index of the zeroes of a vector field $v$ on $M$ that has isolated
zeroes. Hence if $M$ is framed, the Euler characteristic of $M$ must be zero.

Here is an example of a theorem that John does not know how to prove without the use of homology.
\begin{theorem}[Whitney or Wu]
    Every orientable three-manifold admits a framing.
\end{theorem}
Pax: isn't there a later proof of this via geometric methods by Kirby? John: well ok
\textit{I} don't know how to prove it without homology\ldots

Notice that any Lie group has a framing, as one takes a basis for the Lie algebra
and pushes it forward by the group action. On the other hand, manifolds of dimension
four generally do not have framings (at least in John's experience).

We can ask the following question: what is a framed open embedding? There are a few options.
The naive (strict) option is as follows. Suppose that we have an open embedding $M\hookrightarrow N$
of framed manifolds. The pullback of $TN$ is $TM$, we have two different trivializations
of $TM$. We might ask that the induced map of trivial bundles $M\times\R^n\to M\times\R^n$
be the identity. In other words, we ask the two framings to be the same.

Okay fine, but lets think about what we want the answer to be. Embeddings are very flexible
you can stretch them and twist them.
But strict framed embeddings are very rigid the way we've defined them above.
For instance, they are automatically isometries (giving the fibers the usual Euclidean metric).
But of course there aren't very many isometric embeddings into a compact manifold.
Thus the strict definition of a framed embedding is not what we want to work with.

\subsection{Framed embeddings, homotopically}

Let's consider a more lax definition. Thinking homotopy theoretically,
recall that the tangent bundle is classified by a map $TM: M\to \Gr_n\R^\infty$. This map is
of course defined only up to homotopy. That's fine, just choose a representative. Over
the infinite Grassmannian we have the infinite Stiefel manifold $V_k(\R^\infty)\to\Gr_n\R^\infty$.
Choosing a lift
\begin{equation*}
    \begin{tikzcd}
        \; & V_n\R^\infty \dar \\
        M \rar{TM}\urar[dashed]{\phi_M} & \Gr_n\R^\infty
    \end{tikzcd}
\end{equation*}
is precisely the data of a framing. \marginnote{Why?}
Suppose now that we have an embedding $M\hookrightarrow N$ where $M,N$ are framed by
$\phi_M$ and $\phi_N$ respectively.
The lax definition of a framed embedding is now going to be extra data: an embedding
together with a homotopy between the framings $\phi_M$ and $\phi_N|_M$.

\begin{definition}
    The space of framed embeddings $\Emb^{fr}(M,N)$ is the homotopy pullback
    \begin{equation*}
        \begin{tikzcd}
            \Emb^{fr}(M,N) \rar\dar & \Emb(M,N)\dar  \\
            \Maps_{V_n\R^\infty}(M,N) \rar & \Maps_{\Gr_n\R^\infty}(M,N)
        \end{tikzcd}
    \end{equation*}
    In particular a framed embedding is an embedding $M\hookrightarrow N$ and
    a homotopy in $\Map_{\Gr_n\R^\infty}(M,N)$ between the images along each map.
\end{definition}

\begin{exercise}
    Check that $V_n\R^\infty\simeq *$.
\end{exercise}

With all this talk of homotopy pullbacks (which we'll talk about in more detail
next time)
it looks like we've made things more complicated, whereas we introduced framings
to make things simpler.
Let's calculate $\Emb^{fr}(\R^n, \R^n)$ as an example.
By definition, this sits in the following diagram
\begin{equation*}
    \begin{tikzcd}
        \Emb^{fr}(\R^n, \R^n) \rar\dar & \Emb(\R^n, \R^n)\dar \\
        \Maps_{V_n\R^\infty}(\R^n, \R^n) \rar & \Maps_{\Gr_n\R^\infty}(\R^n,\R^n).
    \end{tikzcd}
\end{equation*}
Notice that the bottom left object is homotopy equivalent to $\Maps_*(\R^n,\R^n)\simeq *$.
The bottom right space is homotopy equivalent to the loop space $\Omega\Gr_n\R^\infty\simeq \Omega BO(n)\simeq O(n)$.
From last time, $\Emb(\R^n,\R^n)\simeq \Diff(\R^n)\simeq GL(n)\simeq O(n)$ (this is
\textbf{homework 1}). Now the vertical map on the right is a homotopy equivalence.
This implies (by some machinery) that the vertical map on the left is an equivalence.
We conclude that
\begin{equation*}
    \Emb^{fr}(\R^n,\R^n)\simeq *.
\end{equation*}
The rest of \textbf{homework 1} is to
show that $\Emb(\R^n, N)$ is homotopy equivalent to the frame bundle of $TN$. Applying this
to the diagram above where we replace the second copy of $\R^n$ with $N$, we obtain
\begin{equation*}
    \begin{tikzcd}
        \Emb^{fr}(\R^n, N) \rar\dar & \Emb(\R^n, N)\dar \\
        \Maps_{V_n\R^\infty}(\R^n, N) \rar & \Maps_{\Gr_n\R^\infty}(\R^n,N).
    \end{tikzcd}
\end{equation*}
Now the same argument will show that the vertical map on the right is an equivalence,
and that the map of the left is an equivalence. It follows now that
\begin{equation*}
    \Emb^{fr}(\R^n,N)\simeq N.
\end{equation*}
Hence we see that by adding framings we are replacing the role of the orthogonal group
by that of a point. Indeed, this will allow for an easier transition between algebra and topology.
\begin{definition}
    We define the category $\Diskr$ to be the topological category consisting of 
    finite disjoint unions of open unit disks $\coprod_I D$ under rectilinear
    embeddings. In other words, embeddings which can be written as a composition
    of translations and dilations. Here we use the usual topology indcued from
    the smooth compact-open topology.
\end{definition}
One advantage of rectilinear embeddings is that they are easy to analyze.
For instance, the space of embeddings from a single disk to a single disk is contractible:
take an embedding, translate it to the origin, and the expand it outwards. In this
way $\Diskr(D,D)=\Emb^\text{rect}(D,D)$ deformation retracts onto the identity map.
More generally, one checks that there is a homotopy equivalence
\begin{equation*}
    \begin{tikzcd}
        \Diskr(\coprod D^n, D^n) \rar{\sim} & \Conf_k(D^n)
    \end{tikzcd}
\end{equation*}

Next time we will prove the following.
\begin{proposition}
    There is a homotopy equivalence $\Diskr \simeq \Diskf$.
\end{proposition}


\newpage
\section{Homotopy pullbacks and framing [09/27/17]}

Let's define more precisely some of the terms we used last time.

\subsection{Homotopy pullbacks}

\begin{definition}
    Suppose we have a map $f:X\to B$ together with a point $*\in B$. The homotopy fiber
    of $X\to B$ over $*\in B$ is the fiber product
    \begin{equation*}
        \hofiber(f:X\to B) := \{*\}\times_B\Maps([0,1], B)\times_B X.
    \end{equation*}
    In particular it is the space of triples $(*, \phi, x)$ where $\phi(0)=*$
    and $\phi(1)=f(x)$.
    \begin{equation*}
        \begin{tikzcd}
            \hofiber(f) \rar \dar & X\dar \\
            * \rar & B
        \end{tikzcd}
    \end{equation*}
\end{definition}

\begin{lemma}
    The formation of homotopy fibers is homotopy invariant. More precisely, given an weak
    equivalence of spaces $X\to X'$ over $B$ a pointed space via maps $f$ and $g$,
    \begin{equation*}
        \begin{tikzcd}
            X \ar[rr]\ar[rd]{f} &  & X'\ar[ld]{g} \\
            & B &
        \end{tikzcd}
    \end{equation*}
    then the homotopy fiber of $f$ is weakly equivalent to the homotopy fiber of $g$.
\end{lemma}
\begin{proof}
    Simply apply the (naturality of the) long exact sequence on homotopy groups for a
    Serre fibration to the map of fibrations \marginnote{Why are these fibrations?}
    \begin{equation*}
        \begin{tikzcd}
            \hofiber(f)\dar \ar[rr] & \; & \hofiber(g)\dar \\
            \Maps([0,1],B)\times_B X \ar[rr]\drar & \; & \Maps([0,1],B)\times_B X'\ar[dl] \\
            \; & B & 
        \end{tikzcd}
    \end{equation*}
    We conclude that $\pi_*\hofiber(f)\cong\pi_*\hofiber(g)$.
\end{proof}

\textbf{Homework 2}: Show, more generally, that homotopy pullbacks are homotopy invariant.

Recall last time we were discussing $\Maps_B(M,N)$ for some space $B$: maps ``over'' $B$.
This object is defined to be the homotopy
\begin{equation*}
    \begin{tikzcd}
        \Maps_B(M,N) \rar\dar & \Maps(M,N) \dar \\
        * \rar & \Maps(M,B)
    \end{tikzcd}
\end{equation*}
In our case the map on the bottom is (a choice of) the map classifying the tangent bundle of $M$.
Returning to last lecture, notice that by homotopy invariance we can argue that
$\Maps_{V_n\R^\infty}(M,N)\simeq \Maps(M,N)$ since $V_n\R^\infty\simeq*$.
Hopefully this background fills in some of the gaps we left open during last lecture.
\marginnote{But here we are using homotopy invariance in the base?}

\subsection{Framed vs rectilinear $n$-disks}

Let us now return to our assertion from last time. \marginnote{What is a homotopy equivalence of topological categories?}
\begin{proposition}
    There is a functor $\Diskr \to \Diskf$ which is a homotopy equivalence.
\end{proposition}
\begin{proof}
    Using the computations from last lecture we see that 
    \begin{equation*}
        \Diskf(\R^n, \R^n) \simeq * \simeq \Diskr(D^n, D^n).
    \end{equation*}
    What this functor does on objects is clear. On morphisms, the framing is determined
    by the dilation factor present in the rectilinear embeddings.
    More generally, consider
    \begin{equation*}
        \Diskr\left(\coprod_I D^n, \coprod_J D^n\right)=\coprod_{\pi:I\to J}\prod_J\Diskr\left(\coprod_{\pi^{-1}(j)}D^n,D^n\right).
    \end{equation*}
    So it suffices to show that
    \begin{equation*}
        \Diskf\left( \coprod_I\R^n,\R^n \right) \simeq \Diskr\left( \coprod_I D^n,D^n \right).
    \end{equation*}
    Recall that $\ev_0:\Diskr(\coprod D^n,D^n)\to \Conf_I(D^n)$ is a homotopy
    equivalence, which we mentioned ast time. Returning to our homotopy pullback square
    \begin{equation*}
        \begin{tikzcd}
            \Emb^{rect}(\coprod \R^n, \R^n) \rar\dar & \Emb(\coprod\R^n,\R^n)\dar \\
            *\simeq \Maps_{EO(n)}(\coprod \R^n,\R^n) \rar & \Maps_{BO(n)}(\coprod \R^n,\R^n)
        \end{tikzcd}
    \end{equation*}
    notice that
    \begin{equation*}
        \begin{tikzcd}
            \text{Fr}(TM)\simeq \Emb(\R^n, M)\dar{\ev_0} & \Emb( (\R^n,0), (M,x))\lar\dar \simeq O(n) \\
            M & \{x\}\lar
        \end{tikzcd}
    \end{equation*}
    Likewise
    \begin{equation*}
        \begin{tikzcd}
            \Emb(\coprod \R^n, M)\dar{\ev_0} & \prod_I O(n)\lar \dar\\
            \Conf_I(M) & \{x_1,\ldots,x_I\}\lar
        \end{tikzcd}
    \end{equation*}
    Hence $\Maps_{BO(n)}(\coprod\R^n,\R^n)\simeq \prod_I\Maps_{BO(n)}(\R^n,\R^n)\simeq\prod_IO(n)$.

    Up to homotopy, we now obtain
    \begin{equation*}
        \begin{tikzcd}
            \Emb^{fr}(\coprod\R^n,\R^n) \rar\dar & \Conf_I(\R^n)\times \prod_I O(n)\dar \\
            * \rar & \prod_I O(n)
        \end{tikzcd}
    \end{equation*}
    so we conclude that $\Emb^{fr}(\coprod\R^n,\R^n)\simeq \Conf_I(\R^n)$ which concludes
    the proof of the proposition.
\end{proof}

\begin{example}
    Consider the case $n=1$. What do the framed and rectilinear embeddings look like in this case?
    Well $\Diskf(\coprod_I\R^1,\R^1)\simeq \Conf_I(\R^1)$ is discrete up to
    homotopy, and thus identified noncanonically with the symmetric group on $I$ letters.
\end{example}

Recall a definition from the first day.
\begin{definition}
    An $\mathcal{E}_n$ algebra in $\mathcal{V}$ is a symmetric monoidal functor
    $\Diskr \to \mathcal{V}^\otimes$.
\end{definition}
Next time we will see that $\mathcal{E}_1$-algebras are, in a suitable sense,
equivalent to associative algebras.

\newpage

\section{Examples of $n$-disk algebras [09/29/2017]}

Notice that we have a functor $\Diskf\to \Disk$. In particular, the former
category has \textit{less} structure than the latter.
\marginnote{Why is this?}

Let's recall the following way of thinking about a commutative algebra.
\begin{definition}
    A commutative algebra in $\mathcal{V}^\otimes$ (a symmetric monoidal category) is
    a symmetric monoidal functor
    \begin{equation*}
        \begin{tikzcd}
            (\mathsf{Fin},\coprod) \rar{A} & (\mathcal{V},\otimes),
        \end{tikzcd}
    \end{equation*}
    where $\mathsf{Fin}$ is the category of finite sets.
\end{definition}

This probably looks a little unfamiliar, so let's unpack it. Observe that the
underlying object is $A=A(*)$. The unit morphism is
$A(\varnothing)=1_{\mathcal{V}}\to A(*)$. Here $1_{\mathcal{V}}$ is the symmetric monoidal unit in $\mathcal{V}$.
The multiplicative structure comes from the map from the two-point set to the one-point
set, and the commutativity follows from the fact that this map is $\Sigma_2$-invariant
and that $A$ is a \textit{symmetric} monoidal functor so that $A^{\otimes 2}\to A$ is
$\Sigma_2$-invariant as well.


\begin{definition}
    For $\mathcal{V}$ a symmetric monoidal topological category, an \textbf{$n$-disk algebra}
    is a symmetric monoidal functor $\Disk\to \mathcal{V}$. Similarly a \textbf{framed $n$-disk algebra}
    is a symmetric monoidal functor $\Diskf\to\mathcal{V}$ and a \textbf{$\mathcal{E}_n$-algebra}
    is a symmetric monoidal functor $\Diskr\to\mathcal{V}$.
\end{definition}

Today we will discuss examples of $n$-disk algebras for $\mathcal{V}$ being chain
complexes and toplogical spaces.
\begin{enumerate}
    \item There are the trivial $n$-disk algebras. For instance, consider $A=\Z$, which 
        sends
        \begin{equation*}
            \begin{tikzcd}
                \coprod_I \R^n \rar & \Z^{\otimes I}\cong \Z
            \end{tikzcd}
        \end{equation*}
        and any embedding
        \begin{equation*}
            \begin{tikzcd}
                \coprod_I \R^n \hookrightarrow \coprod_J \R^n \rar & \Z \xrightarrow{\id}\Z.
            \end{tikzcd}
        \end{equation*}
        We can all agree that this is pretty trivial. More generally, we might take $A=\Z\oplus B$,
        which sends $\coprod_I\R^n$ to $(\Z\oplus B)^{\otimes I}$ and sends $\coprod_I\R^n\hookrightarrow\R^n$
        to a map $(\Z\oplus B)^{\otimes I}\to \Z\otimes B$. What is this map? Let's start by looking at
        the case where $|I|=2$. In that case take the map
        \begin{equation*}
            \Z\oplus \Z\otimes B\oplus B\otimes\Z \oplus B\otimes B \xrightarrow{\id_\Z\oplus\id_B\oplus\id_B\oplus 0} \Z\oplus B.
        \end{equation*}
        You can generalize this for larger $I$ -- just take the product on the $B$ factors to be zero.
        \marginnote{This map looks weird. Fix it.}

    \item Now let $A:(\mathsf{Fin},\coprod) \to(\mathsf{Ch},\otimes)$ be a commutative dg algebra.
        There is a natural symmetric monoidal functor $\pi_0:(\Disk,\coprod)\to (\mathsf{Fin},\coprod)$
        which sends
        $\coprod_I\R^n\mapsto\pi_0(\coprod_I\R^n)=I$. The composition of these maps gives us
        an $n$-disk algebra. The idea here is that in an $n$-disk algebra there is not just
        one way of multiplying things. Indeed, there are $\Emb(\coprod_2\R^n,\R^n)$ multplications.
        What we have just done is used the $\pi_0$ functor to reduce these various multiplications
        into the unique multiplication coming from the unique map from the two-point set to the
        one-point set.

    \item The next example is that of an $n$-fold loop space of a pointed space $(Z,*)$.
        We will construct a functor $\Disk\to\mathsf{Top}$ and then postcompose with $C_*$ to obtain a chain complex.
        This first functor is $\Omega^nZ:\Disk\to\mathsf{Top}$, which we will now define.
        Recall that for $M$ a space and $Z$ a pointed space, we say that a map $M\to Z$ is \textbf{compactly
        supported} if there exists $K\subset M$ with $K$ compact and such that $g|_{M\setminus K}=*\in Z$.
        Then we define
        \begin{equation*}
            \Omega^nZ := \Maps_c( -, Z): (\Disk,\coprod)\to(\mathsf{Top},\times).
        \end{equation*}
        If you haven't thought much about compactly supported maps then there is something you have to check.
        Observe that if 
        \begin{equation*}
            \begin{tikzcd}
                U \rar{g}\dar & Z \\
                V  \ar[ru,dashed] & \;
            \end{tikzcd}
        \end{equation*}
        the map $U\hookrightarrow V$ is an open embedding then the map $\bar g$, given by sending
        a point $v$ to $g(v)$ for $v\in U$ and $*$ otherwise, is continuous (\textbf{homework 3}).
        Hence $\Maps_c$ is covariant via this extension by zero procedure. Moreover it is
        symmetric monoidal as it sends disjoint unions to products.

        Why is this called the $n$-fold loop space? Well notice that
        \begin{align*}
            \Omega^nZ &= \Maps( (D^n,\partial D^n), (Z,*)) \\
            &\simeq \Maps_c(\R^n,Z)
        \end{align*}
        where we identify $\R^n$ with the interior of the closed disk $D^n$.
        % TODO distinguish between open and closed disks
        In total, we get
        \begin{equation*}
            \Disk \xrightarrow{\Maps_c(-,Z)} \mathsf{Top} \xrightarrow{C_*} \mathsf{Ch}
        \end{equation*}
        whose composite we write $C_*\Omega^nZ$.
        \marginnote{What happens if we don't use compactly supported and take values in
        cochains? What is this $n$-disk algebra in terms of things we know?}

    \item At the opposite end of the spectrum from trivial algebras are free algebras.
        The \textbf{free $\mathcal{E}_n$ algebra} on $V\in (\mathsf{Ch},\otimes)$,
        which we'll notate as
        \begin{equation*}
            \mathcal{F}_{\mathcal{E}}(V):\Diskr\to\mathsf{Ch},
        \end{equation*}
        sends
        \begin{equation*}
            \R^n \mapsto \bigoplus_{k\geq 0}C_*\left( \Emb^\text{rect}(\coprod_kD^n,D^n) \right)\otimes_{\Sigma_k}V^{\otimes k}.
        \end{equation*}
        Here the $\Sigma_k$ denotes the diagonal quotient. We will define what it does
        on morphisms in a moment.

        This has the universal property that given any map of chain complexes $V\to A$
        for $A$ an $\mathcal{E}_n$-algebra (by this we mean a map of chain complexes
        $V\to A(\R^n)$), there exists a unique map of $\mathcal{E}_n$-algebras such that the diagram
        \begin{equation*}
            \begin{tikzcd}
                V \rar{\mu}\dar & A \\
                \mathcal{F}_{\mathcal{E}_n}(V) \ar[ur,dashed]
            \end{tikzcd}
        \end{equation*}
        commutes. The vertical map $V\to \mathcal{F}_{\mathcal{E}_n}$ is given by the
        inclusion into the $k=1$ summand which is just $V$.
        % TODO change R^n to D^n
        
        What is this dashed map? For each $k$ we need a map
        \begin{equation*}
            C_*\left( \Emb^\text{rect}(\coprod_k D^n,D^n) \right)\otimes_{\Sigma_k} V^{\otimes k} \to A(\R^n).
        \end{equation*}
        To do this we use the map
        \begin{equation*}
            C_*\left( \Emb^\text{rect}(\coprod_k D^n,D^n) \right)\otimes_{\Sigma_k} V^{\otimes k}
            \xrightarrow{\mu^{\otimes k}} C_*\left( \Emb^\text{rect}(\coprod_kD^n,D^n) \right)\otimes_{\Sigma_k}A^{\otimes k}
        \end{equation*}
        and then use the multiplication for $A$. Let's explain this. Notice that $A:\Diskr\to\mathsf{Ch}$
        and we have $\Emb^{rect}(\coprod_k D^n,D^n)\to \Maps_\mathsf{Ch}(A^{\otimes k}(D^n), A(D^n))$ which by
        Dold-Kan (recall that everything is enriched in $\mathsf{Top}$) corresponds to a map
        \begin{equation*}
            C_*\left( \Emb^\text{rect}(\coprod_k D^n,D^n) \right)\to \underline{\Hom}_\mathsf{Ch}(A^{\otimes k}(D^n),A(D^n))
        \end{equation*}
        that is $\Sigma_k$-equivariant. Because of the equivariance it factors to the quotient, which
        gives us the multiplication map. 
        Now apply (equivariant) tensor-hom adjunction to obtain this multiplication map.
        Okay, but we haven't yet shown that the free thing is actually
        an $\mathcal{E}_n$-algebra, but we're out of time.
    \item The last example we were gonna talk about is pretty awesome. Too bad we're out of time.
\end{enumerate}

Notice that if $Z$ was an Eilenberg-MacLane space, there is overlap between examples 2 and 3.

\newpage

\section{Examples, continued [10/02/2017]}

Last lecture we ran out of time in the proof of the following result.
\begin{proposition}
    The functor $\mathcal{F}_{\mathcal{E}_n}(V)$ sending 
    \begin{equation*}
        D^n \mapsto \bigoplus_{k\geqslant 0}C_*\left( \Emb^\text{rect}(\coprod_kD^n,D^n) \right)\otimes_{\Sigma_k}V^{\otimes k}
    \end{equation*}
    is the free $\mathcal{E}_n$-algebra on $V\in\mathsf{Ch}$.
\end{proposition}
\begin{proof}
    Last time we showed that this functor satisfied the correct universal property though
    we hadn't yet specified what it did on morphisms. To define what it does to morphisms
    we need to construct a map
    \begin{equation*}
        \Emb^\text{rect}(\coprod_I D^n, D^n)\to \Maps_\mathsf{Ch}(\mathcal{F}_{\mathcal{E}_n}(V)^{\otimes I}, \mathcal{F}_{\mathcal{E}_n}(V)).
    \end{equation*}
    By the Dold-Kan correspondence this is equivalent to specifying a map
    \begin{equation*}
        C_*(\Emb^\text{rect}(\coprod_I D^n, D^n)) \to \underline{Hom}(\mathcal{F}_{\mathcal{E}_n}(V)^{\otimes I}, \mathcal{F}_{\mathcal{E}_n}(V))
    \end{equation*}
    which by the tensor-(internal)hom adjunction, is equivalent to the data of a map
    \begin{equation*}
        C_*(\Emb^\text{rect}(\coprod_I D^n, D^n)) \otimes \mathcal{F}_{\mathcal{E}_n} \to \mathcal{F}_{\mathcal{E}_n}(V),
    \end{equation*}
    in other words, a map
    \begin{equation*}
        C_*(\Emb^\text{rect}(\coprod_I D^n, D^n)) \otimes \left( \bigoplus_{k\geqslant 0}C_*(\Emb(\coprod_k D^n,D^n))\otimes_{\Sigma_k}V^{\otimes k} \right)^{\otimes I} \to \mathcal{F}_{\mathcal{E}_n}(V).
    \end{equation*}
    Let's maybe just look at the left hand side in the case where $I\cong\{0,1\}$:
    \begin{align*}
        C_*(\Emb^\text{rect}(\coprod_2 D^n, D^n)\otimes \bigoplus_{k_0,k_1}\left( C_*(\Emb^\text{rect}(\coprod_{k_0}D^n, D^n))\otimes_{\Sigma_{k_0}}V^{\otimes k_0}
        \otimes C_*(\Emb^\text{rect}(\coprod_{k_1}D^n, D^n))\otimes_{\Sigma_{k_1}} V^{\otimes k_1}\right) \\
        = \bigoplus_{k_0,k_1\geq 0} C_*\left( \Emb^\text{rect}(\coprod_2D^n,D^n)\times \Emb^\text{rect}(\coprod_{k_0}D^n,D^n)\times \Emb^\text{rect}(\coprod_{k_1}D^n,D^n) \right)\otimes_{\Sigma_{k_0}\times \Sigma_{k_1}} V^{\otimes(k_0+k_1)}
    \end{align*}
    But from this last expression it is easy to see now that we have a map 
    from what's in the parentheses to
    $\Emb^\text{rect}(\coprod_{k_0+k_1} D^n, D^n)\otimes_{\Sigma_{k_0+k_1}} V^{\otimes(k_0+k_1)}$
    by composing the embeddings (up to keeping track of the symmetric group).
\end{proof}


Let's talk about the example that we didn't have time to discuss at the end of last class.
This is the class of $\mathcal{E}_n$ enveloping algebras of Lie algebras. Let $\fr g$ be
a Lie algebra. For simplicity we'll work over $\R$. \marginnote{John: this works for Lie
algebras valued in spectra too, up to some changes.}

We define a functor $\Disk\to \mathsf{Alg}_\mathsf{Lie}(\mathsf{Ch}_\R)$ which sends
$U\mapsto \Omega^*_c(U,\fr g)$, i.e. a Euclidean space to its space of compactly supported
de Rham forms. Notice that this construction sends disjoint unions to direct sums.
We now postcompose with the Chevalley complex $C_*^\mathsf{Lie}$ (or if you like
$C_*^\mathsf{Lie}(\fr g)\simeq \R\otimes_{\mathcal{U}\fr g}^\mathbb{L}\R$).
We will write this composite functor as $C_*^\mathsf{Lie}(\Omega_c^*(\bullet, \fr g))$,
and it sends disjoint unions to tensor products.
\begin{equation*}
    \begin{tikzcd}
        \Disk \rar & \mathsf{Alg}_\mathsf{Lie}(\mathsf{Ch}_\R) \rar & \mathsf{Ch}_\R
    \end{tikzcd}
\end{equation*}

We will use the fact that
\begin{equation*}
    C_*^\mathsf{Lie}(\fr g\oplus \fr g') \simeq C_*^\mathsf{Lie}(\fr g)\oplus C_*^\mathsf{Lie}(\fr g').
\end{equation*}
We claim that for $n=1$,
\begin{equation*}
    C_*^\mathsf{Lie}(\Omega_c^*(\R^1,\fr g)) \simeq \mathcal{U}\fr g.
\end{equation*}
In particular this functor which maps Lie algebras to $\mathcal{E}_n$-algebras is
left-adjoint to the forgetful functor $\mathsf{Alg}_{\mathcal{E}_n}\to \mathsf{Alg}_\mathsf{Lie}$.

Here's a small aside. Where is this Lie algebra structure coming from? Well notice
that we have a map
\begin{equation*}
    C_*(\Emb^\text{rect}(\coprod_2 D^n,D^n))\otimes A^{\otimes 2}\to A.
\end{equation*}
But notice that the left-hand side is homotopic to $C_*(S^{n-1})$ (do this exercise!).
At the level of homology, this gives a map $\HH_*S^{n-1}\otimes_\R (\HH_*A)^{\otimes 2}\to \HH_*A$.
There are two generators for the homology of $S^{n-1}$ and so we a degree 0 map
\begin{equation*}
    \HH_*A\otimes\HH_*A \to \HH_*A,
\end{equation*}
which is the associative algebra structure. However, we have another map coming from
the fundamental class of $S^{n-1}$,
\begin{equation*}
    (\HH_*A \otimes \HH_*A)[n-1] \to \HH_*A,
\end{equation*}
is a Lie algebra structure on $\HH_*A[1-n]$. (Everything here should be valued in $\mathsf{Ch}$)
A reference for this forgetful functor is a paper by F. Cohen.

Since we're almost out of time, let me give you a hint of what we'll be doing next.
In factorization homology we are given some functor $A:\Disk\to\mathsf{Ch}$ (or
into $\mathsf{Top}).$ Factorization homology is an extension
\begin{equation*}
    \int_M A = \text{hocolim } ( {\Disk}_{/M}\xrightarrow{A} \mathsf{Ch})
\end{equation*}
an extension that fits into
\begin{equation*}
    \begin{tikzcd}
        {\Disk}_{/M} \rar{A} \dar & \mathsf{Ch} \\
        \mathsf{Mfld}_n \ar[ur,dashed] &
    \end{tikzcd}
\end{equation*}

We need to define not only the homotopy colimit but also what we mean by ${\Disk}_{/M}$.
What do we want it to be? Its mapping spaces should fit into the homotopy
pullback diagram
\begin{equation*}
    \begin{tikzcd}
        \Maps_{ {\Disk}_{/M}}(U,V) \rar\dar & \Emb(U,V)\dar{V\hookrightarrow M} \\
        * \rar{U\hookrightarrow M} & \Emb(U,M)
    \end{tikzcd}
\end{equation*}
As usual, if we require this to be a pullback instead of a homotopy pullback this
space will be too small. In fact, it will be empty.
Okay, you say -- so let's just define a category of $n$-disks with these mapping spaces.
The problem that you will run into here is that the composition will be associative only up to homotopy
due to the composition of the paths in $\Emb(U,M)$ required by the adjective ``homotopy''.
So we'll have to dip our toes into the theory of infinity-categories, which neatly
deals with both this issues and homotopy colimits.



\appendix

% TODO write out this adjoint argument as far as we got

\newpage

\bibliographystyle{alpha}

\bibliography{references}



\end{document}

